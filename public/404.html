<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPCheck.ing - Redirecting...</title>
  <script>
    // GitHub Pages SPA redirect workaround
    // This script takes the current URL and converts the path and query
    // string into just a query string, and then redirects the browser
    // to the new URL with only a query string and hash fragment.
    // This is a redirect for GitHub Pages to handle SPAs.

    (function() {
      var redirect = sessionStorage.redirect;
      delete sessionStorage.redirect;

      if (redirect && redirect !== location.href) {
        history.replaceState(null, null, redirect);
      }
    })();

    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages

    // Auto-detect if this is a project page (username.github.io/repo-name)
    // or a user page (username.github.io)
    var pathSegmentsToKeep = 0;
    var l = window.location;

    // For project pages, we need to keep the repo name in the path
    // Check if the first path segment exists and is not empty
    var pathSegments = l.pathname.split('/').filter(function(segment) {
      return segment !== '';
    });

    // If we're on a project page (e.g., /MyIP/...), keep the first segment
    if (pathSegments.length > 0 && !l.hostname.match(/^[^.]+\.github\.io$/)) {
      pathSegmentsToKeep = 1;
    } else if (pathSegments.length > 0) {
      // Additional check: if hostname is username.github.io but path has segments,
      // it's likely a project page
      pathSegmentsToKeep = 1;
    }

    l.replace(
      l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
      l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/?/' +
      l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
      (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
      l.hash
    );
  </script>
</head>
<body>
  <p>Redirecting to IPCheck.ing...</p>
</body>
</html>
